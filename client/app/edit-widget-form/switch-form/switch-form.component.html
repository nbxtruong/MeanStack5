<perfect-scrollbar style=" max-height: 100%px;" [scrollIndicators]="true">
  <div class="app-modal edit-modal">
    <div class="app-modal-content">
      <div class="app-modal-header">
        <p class="title">Edit widget</p>
      </div>
      <form (ngSubmit)="onSubmit()" #form="ngForm">
        <div class="app-modal-body">
          <p class="edit-section">
            Device overview
          </p>
          <div class="form-group">
            <label>Name</label>
            <input [(ngModel)]="model.name" type="text" class="form-control" placeholder="Widget's name" name="name">
          </div>
          <p class="edit-section">
            Widget data
          </p>
          <div class="form-group">
            <label>Sprinkler</label>
            <select [(ngModel)]="model.data.device_id" class="form-control" placeholder="Device" name="deviceId" required (change)="getControllerAttributes()">
              <option *ngFor="let device of controllers" [value]="device.id">{{device.name}}</option>
            </select>
          </div>
          <div class="form-group">
            <label>Valve</label>
            <select [(ngModel)]="model.attribute" class="form-control" placeholder="Device" name="attribute" required>
              <option *ngFor="let attribute of attributes" [value]="attribute.name">{{attribute.name}}</option>
            </select>
          </div>
        </div>
        <div class="app-modal-footer">
          <button class="app-btn" type="submit" [disabled]="!form.form.valid">Save</button>
          <button class="app-btn-white" (click)="onCancel()">Cancel</button>
        </div>
      </form>
    </div>
  </div>
</perfect-scrollbar>
